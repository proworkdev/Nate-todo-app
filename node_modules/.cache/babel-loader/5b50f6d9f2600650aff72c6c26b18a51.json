{"ast":null,"code":"import _objectSpread from \"/Users/karamjitsingh/Desktop/todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { Container } from 'unstated';\nconst defaultState = {\n  list: [{\n    id: 1,\n    completed: false,\n    text: 'Read README'\n  }, {\n    id: 2,\n    completed: false,\n    text: 'Add one todo'\n  }, {\n    id: 3,\n    completed: false,\n    text: 'Add filters'\n  }, {\n    id: 4,\n    completed: false,\n    text: 'Add multiple lists'\n  }, {\n    id: 5,\n    completed: false,\n    text: 'Optional: add tests'\n  }]\n};\n\nclass TodosContainer extends Container {\n  constructor(props) {\n    localStorage.setItem('items', JSON.stringify(defaultState.list));\n    super(props);\n\n    this.toggleComplete = async id => {\n      const item = this.state.list.find(i => i.id === id);\n      const completed = !item.completed; // We're using await on setState here because this comes from unstated package, not React\n      // See: https://github.com/jamiebuilds/unstated#introducing-unstated\n\n      await this.setState(state => {\n        const list = state.list.map(item => {\n          if (item.id !== id) return item;\n          return _objectSpread({}, item, {\n            completed\n          });\n        });\n        return {\n          list\n        };\n      });\n      this.syncStorage();\n    };\n\n    this.createTodo = async text => {\n      await this.setState(state => {\n        const item = {\n          completed: false,\n          text,\n          id: state.list.length + 1\n        };\n        const list = state.list.concat(item);\n        this.setState({\n          text: ''\n        });\n        return {\n          list\n        };\n      });\n      this.syncStorage();\n    };\n\n    this.showInput = () => {\n      this.setState({\n        showInput: !this.state.showInput\n      });\n      this.syncStorage();\n    };\n\n    this.onChangeText = e => {\n      this.setState({\n        text: e\n      });\n      this.syncStorage();\n    };\n\n    console.log(props, 'props');\n    this.state = {\n      list: localStorage.setItem('items', defaultState.item),\n      showInput: false,\n      text: '' // defaultState\n      // localStorage.setItem('items', defaultState.item);\n\n    };\n  }\n\n  syncStorage() {\n    if (window && window.localStorage) {\n      const state = JSON.stringify(this.state);\n      window.localStorage.setItem('appState', state);\n    }\n  }\n\n  getList() {\n    return this.state.list;\n  }\n\n  render() {\n    con;\n  }\n\n}\n\nexport default TodosContainer;","map":{"version":3,"sources":["/Users/karamjitsingh/Desktop/todo-app/src/store.js"],"names":["Container","defaultState","list","id","completed","text","TodosContainer","constructor","props","localStorage","setItem","JSON","stringify","toggleComplete","item","state","find","i","setState","map","syncStorage","createTodo","length","concat","showInput","onChangeText","e","console","log","window","getList","render","con"],"mappings":"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","sourcesContent":["import { Container } from 'unstated'\n\nconst defaultState = {\n  list: [\n    {\n      id: 1,\n      completed: false,\n      text: 'Read README'\n    },\n    {\n      id: 2,\n      completed: false,\n      text: 'Add one todo'\n    },\n    {\n      id: 3,\n      completed: false,\n      text: 'Add filters'\n    },\n    {\n      id: 4,\n      completed: false,\n      text: 'Add multiple lists'\n    },\n    {\n      id: 5,\n      completed: false,\n      text: 'Optional: add tests'\n    }\n  ],\n}\n\nclass TodosContainer extends Container {\n  constructor (props) {\n   localStorage.setItem('items', JSON.stringify(defaultState.list))\n    super(props)\n    console.log(props,'props')\n    this.state = {\n      list: localStorage.setItem('items', defaultState.item),\n      showInput:false, \n       text:'' \n    }\n    \n    // defaultState\n    // localStorage.setItem('items', defaultState.item);\n    \n  }\n  \n  syncStorage () {\n    if (window && window.localStorage) {\n      const state = JSON.stringify(this.state)\n      window.localStorage.setItem('appState', state)\n    }\n  }\n\n  getList () {\n    return this.state.list\n  }\n\n  toggleComplete = async id => {\n    const item = this.state.list.find(i => i.id === id)\n    const completed = !item.completed\n\n    // We're using await on setState here because this comes from unstated package, not React\n    // See: https://github.com/jamiebuilds/unstated#introducing-unstated\n    await this.setState(state => {\n      const list = state.list.map(item => {\n        if (item.id !== id) return item\n        return {\n          ...item,\n          completed\n        }\n      })\n      return { list }\n    })\n\n    this.syncStorage()\n  }\n\n  createTodo = async text => {\n    await this.setState(state => {\n      const item = {\n        completed: false,\n        text,\n        id: state.list.length + 1\n      }\n      \n      const list = state.list.concat(item)\n      this.setState({text:''})\n      return { list }\n    })\n\n    this.syncStorage()\n  }\n \n  showInput = ()=> {\n    this.setState({ showInput:!this.state.showInput})\n    this.syncStorage()\n  }\n  \n  onChangeText = (e)=> {\n    this.setState({ text:e})\n    this.syncStorage()\n  }\n  render(){\n    con\n  }\n}\n\nexport default TodosContainer\n"]},"metadata":{},"sourceType":"module"}