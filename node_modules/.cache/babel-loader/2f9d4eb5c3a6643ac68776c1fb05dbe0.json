{"ast":null,"code":"import _objectSpread from \"/Users/karamjitsingh/Desktop/todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { Container } from 'unstated';\nconst defaultState = {\n  list: [{\n    id: 1,\n    completed: false,\n    inprogress: false,\n    text: 'Read README'\n  }, {\n    id: 2,\n    completed: false,\n    inprogress: false,\n    text: 'Add one todo'\n  }, {\n    id: 3,\n    completed: false,\n    inprogress: false,\n    text: 'Add filters'\n  }, {\n    id: 4,\n    completed: false,\n    inprogress: false,\n    text: 'Add multiple lists'\n  }, {\n    id: 5,\n    completed: false,\n    text: 'Optional: add tests'\n  }]\n};\n\nclass TodosContainer extends Container {\n  constructor(props) {\n    super(props);\n\n    this.toggleComplete = async id => {\n      const item = this.state.list.find(i => i.id === id);\n      const completed = !item.completed; // We're using await on setState here because this comes from unstated package, not React\n      // See: https://github.com/jamiebuilds/unstated#introducing-unstated\n\n      const list = this.state.list.map(item => {\n        if (item.id !== id) return item;\n        return _objectSpread({}, item, {\n          completed\n        });\n      });\n      this.setState({\n        list: list\n      });\n      this.syncStorage(list);\n    };\n\n    this.createTodo = async text => {\n      await this.setState(state => {\n        const item = {\n          completed: false,\n          text,\n          id: state.list.length + 1\n        };\n        const list = state.list.concat(item);\n        this.setState({\n          text: ''\n        });\n        this.syncStorage(list);\n      });\n    };\n\n    this.showInput = () => {\n      this.setState({\n        showInput: !this.state.showInput\n      });\n    };\n\n    this.onChangeText = e => {\n      this.setState({\n        text: e\n      });\n    };\n\n    this.onProgress = async id => {\n      const item = this.state.list.find(i => i.id === id);\n      const inprogress = true;\n      const completed = !item.completed; // We're using await on setState here because this comes from unstated package, not React\n      // See: https://github.com/jamiebuilds/unstated#introducing-unstated\n\n      const list = this.state.list.map(item => {\n        if (item.id !== id) return item;\n        return _objectSpread({}, item, {\n          inprogress\n        });\n      });\n      this.setState({\n        list: list\n      });\n      this.syncStorage(list);\n    };\n\n    !localStorage.getItem('items') && localStorage.setItem('items', JSON.stringify(defaultState.list));\n    const data = localStorage.getItem('items');\n    this.state = {\n      list: JSON.parse(data),\n      showInput: false,\n      text: ''\n    };\n  }\n\n  syncStorage(list) {\n    console.log(list, 'list');\n    localStorage.setItem('items', JSON.stringify(list));\n  }\n\n  getList() {\n    return this.state.list;\n  }\n\n}\n\nexport default TodosContainer;","map":{"version":3,"sources":["/Users/karamjitsingh/Desktop/todo-app/src/store.js"],"names":["Container","defaultState","list","id","completed","inprogress","text","TodosContainer","constructor","props","toggleComplete","item","state","find","i","map","setState","syncStorage","createTodo","length","concat","showInput","onChangeText","e","onProgress","localStorage","getItem","setItem","JSON","stringify","data","parse","console","log","getList"],"mappings":"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","sourcesContent":["import { Container } from 'unstated'\n\nconst defaultState = {\n  list: [\n    {\n      id: 1,\n      completed: false,\n      inprogress:false,\n      text: 'Read README'\n    },\n    {\n      id: 2,\n      completed: false,\n      inprogress:false,\n      text: 'Add one todo'\n    },\n    {\n      id: 3,\n      completed: false,\n      inprogress:false,\n      text: 'Add filters'\n    },\n    {\n      id: 4,\n      completed: false,\n      inprogress:false,\n      text: 'Add multiple lists'\n    },\n    {\n      id: 5,\n      completed: false,\n      text: 'Optional: add tests'\n    }\n  ],\n \n}\n\nclass TodosContainer extends Container {\n  constructor (props) {\n    super(props)\n    !localStorage.getItem('items')&&localStorage.setItem('items', JSON.stringify(defaultState.list))\n    const data = localStorage.getItem('items') \n    this.state = {\n      list:  JSON.parse(data),\n      showInput:false, \n      text:''\n    }    \n  }\n  \n  syncStorage (list) {\n    console.log(list,'list')\n    localStorage.setItem('items', JSON.stringify(list));\n  }\n\n  getList () {\n    return this.state.list\n  }\n\n  toggleComplete = async id => {\n    const item = this.state.list.find(i => i.id === id)\n    const completed = !item.completed\n\n    // We're using await on setState here because this comes from unstated package, not React\n    // See: https://github.com/jamiebuilds/unstated#introducing-unstated\n   \n      const list = this.state.list.map(item => {\n        if (item.id !== id) return item\n        return {\n          ...item,\n          completed\n        }\n    })\n    this.setState({list:list})\n    this.syncStorage(list)   \n  }\n\n  createTodo = async text => {\n    await this.setState(state => {\n      const item = {\n        completed: false,\n        text,\n        id: state.list.length + 1\n      }\n      const list = state.list.concat(item)\n      this.setState({text:''})\n\n      this.syncStorage(list)\n    }) \n  }\n \n  showInput = ()=> {\n    this.setState({ showInput:!this.state.showInput})\n  }\n  \n  onChangeText = (e)=> {\n    this.setState({ text:e})\n  }\n\n  onProgress = async id => {\n    const item = this.state.list.find(i => i.id === id)\n    const inprogress = true\n    const completed = !item.completed\n    // We're using await on setState here because this comes from unstated package, not React\n    // See: https://github.com/jamiebuilds/unstated#introducing-unstated\n   \n      const list = this.state.list.map(item => {\n        if (item.id !== id) return item\n        return {\n          ...item,\n          inprogress\n        }\n    })\n    this.setState({list:list})\n    this.syncStorage(list)   \n  }\n}\n\nexport default TodosContainer\n"]},"metadata":{},"sourceType":"module"}